# SPDX-FileCopyrightText: 2025 Weibo, Inc.
#
# SPDX-License-Identifier: Apache-2.0

# Frontend Environment Variables
#
# ============================================================================
# API Configuration - Runtime Variables (Recommended)
# ============================================================================
# The frontend now uses RUNTIME_* variables instead of NEXT_PUBLIC_API_URL.
# This allows configuration changes without rebuilding the application.
#
# Architecture:
#   Browser ---> /api/* ---> Next.js Server ---> Backend
#                            (rewrites)
#
# Benefits:
#   - Runtime configuration without rebuild
#   - Browser never directly calls backend (better security)
#   - Works well when frontend and backend are in the same network
#   - No CORS issues
#
# ============================================================================
# RUNTIME VARIABLES (Read at server startup, can be changed without rebuild)
# ============================================================================

# RUNTIME_INTERNAL_API_URL: Server-side only URL for Next.js to proxy requests to backend
# This is used by next.config.js rewrites and API routes, browser never sees this URL
# Examples:
#   - Local development: http://127.0.0.1:8000
#   - Docker Compose: http://backend:8000
# RUNTIME_INTERNAL_API_URL=http://127.0.0.1:8000

# RUNTIME_SOCKET_DIRECT_URL: Socket.IO direct URL for WebSocket connections
# This allows the browser to connect directly to the backend for real-time features
# Examples:
#   - Local development: http://localhost:8000
#   - Docker Compose: (leave empty to use proxy, or set to backend URL if needed)
# RUNTIME_SOCKET_DIRECT_URL=http://localhost:8000

# ============================================================================
# DEPRECATED: NEXT_PUBLIC_API_URL (Build-time variable)
# ============================================================================
# NEXT_PUBLIC_API_URL is deprecated and replaced by RUNTIME_INTERNAL_API_URL.
# It's kept for backward compatibility but should NOT be used for new deployments.
# The runtime variables above are preferred as they can be changed without rebuild.
NEXT_PUBLIC_API_URL=
NEXT_PUBLIC_USE_MOCK_API=false

# Authentication Configuration
# LOGIN_MODE options: 'password', 'oidc', 'all'
# - 'password': Only show username/password login form
# - 'oidc': Only show OpenID Connect login
# - 'all': Show both password and OIDC login options (default)
NEXT_PUBLIC_LOGIN_MODE=all


# I18N Configuration
# I18N_LNG options: 'en', 'zh-CN'
# - 'en': English
# - 'zh-CN': Chinese
I18N_LNG=en

# Deploy Mode Configuration
NEXT_PUBLIC_FRONTEND_ENABLE_DISPLAY_QUOTAS=enable

# VSCode Link Template Configuration
# Template format: vscode://extension/command?param1={placeholder1}&param2={placeholder2}
# Available placeholders: {session_id}, {type}, {git_url}, {branch}
# Leave empty to disable VSCode link generation
# NEXT_PUBLIC_VSCODE_LINK_TEMPLATE=vscode://extension/command?param1={placeholder1}&param2={placeholder2}
NEXT_PUBLIC_ENABLE_WIKI=true


# .env.local or .env
NEXT_PUBLIC_FEEDBACK_URL=https://github.com/wecode-ai/wegent/issues/new
# DEPRECATED: Use RUNTIME_SOCKET_DIRECT_URL instead
# NEXT_PUBLIC_SOCKET_DIRECT_URL is kept for backward compatibility only
NEXT_PUBLIC_SOCKET_DIRECT_URL=

# OpenTelemetry Configuration
# Enable/disable frontend telemetry (default: false)
NEXT_PUBLIC_OTEL_ENABLED=false
# Service name for traces (default: wegent-frontend)
NEXT_PUBLIC_OTEL_SERVICE_NAME=wegent-frontend
# OTEL Collector endpoint for server-side proxy (default: http://localhost:4318)
# This is used by the /api/otlp/traces API route to forward traces
NEXT_PUBLIC_OTEL_COLLECTOR_ENDPOINT=http://localhost:4318

