---
sidebar_position: 7
---

# 纠错模式

纠错模式是 Wegent 的一项质量保障功能，使用另一个 AI 模型对智能体的回答进行评估和纠正，确保回答的准确性、逻辑性和完整性。

---

## 📋 目录

- [什么是纠错模式](#-什么是纠错模式)
- [启用纠错模式](#-启用纠错模式)
- [评估结果解读](#-评估结果解读)
- [应用纠正](#-应用纠正)
- [使用场景](#-使用场景)
- [最佳实践](#-最佳实践)
- [常见问题](#-常见问题)

---

## ✅ 什么是纠错模式

纠错模式是一种双重验证机制。当启用后，系统会使用您选择的另一个 AI 模型对智能体的回答进行评估，检查准确性、逻辑性和完整性，并在发现问题时提供改进建议。

**工作流程**:
```
智能体回答 → 纠错模型评估 → 生成评分和建议 → 提供改进版本 → 用户选择是否应用
```

### 核心优势

| 优势 | 说明 |
|------|------|
| **质量保障** | 通过第二个模型验证回答质量 |
| **错误检测** | 识别事实错误、逻辑漏洞 |
| **改进建议** | 提供具体的修正建议 |
| **可选应用** | 用户可以选择是否采纳纠正 |

---

## 🚀 启用纠错模式

### 步骤 1: 点击纠错按钮

1. 在对话输入区域找到 **纠错图标** (✓ 勾选圆圈)
2. 点击图标打开模型选择对话框

### 步骤 2: 选择纠错模型

在弹出的对话框中：

1. **搜索模型**: 使用搜索框筛选模型
2. **浏览列表**: 查看可用的模型列表
3. **选择模型**: 点击选择用于纠错的模型
4. **确认选择**: 模型选择后自动启用纠错模式

### 步骤 3: 确认启用状态

- 纠错图标高亮显示表示已启用
- 鼠标悬停可查看当前选择的纠错模型名称
- 再次点击可关闭纠错模式

### 模型类型

| 类型 | 说明 |
|------|------|
| **公共模型** | 系统预配置的模型 |
| **用户模型** | 用户自定义添加的模型 |

### 状态持久化

- 纠错模式设置会保存到本地存储
- 切换任务时会自动恢复该任务的纠错设置
- 新建任务时会继承之前的设置

---

## 📊 评估结果解读

当智能体回答后，纠错模型会生成评估结果，显示在回答下方的面板中。

### 评分指标

纠错模型会从三个维度评估回答：

| 指标 | 说明 | 评分范围 |
|------|------|----------|
| **准确性 (Accuracy)** | 事实是否正确 | 0-10 分 |
| **逻辑性 (Logic)** | 推理是否合理 | 0-10 分 |
| **完整性 (Completeness)** | 回答是否全面 | 0-10 分 |

### 评分颜色指示

| 分数范围 | 颜色 | 含义 |
|----------|------|------|
| 8-10 分 | 绿色 | 优秀 |
| 6-7 分 | 黄色 | 良好 |
| 4-5 分 | 橙色 | 需改进 |
| 0-3 分 | 红色 | 问题较多 |

### 问题列表

如果发现问题，会显示具体的问题和建议：

- **问题描述**: 指出回答中存在的具体问题
- **修正建议**: 提供如何改进的建议
- **问题编号**: 按顺序编号便于参考

### 改进版本

纠错模型会生成一个改进后的回答版本：

- 显示在评估面板的主要区域
- 已修正发现的问题
- 保持原回答的风格和结构

### 总结

评估结果底部会显示一个简短的总结，概述整体评估情况。

---

## ✅ 应用纠正

### 查看改进版本

1. 评估完成后，改进版本显示在面板顶部
2. 可以对比原回答和改进版本
3. 点击"显示评估详情"查看具体评分和问题

### 应用改进

如果认可改进版本：

1. 将鼠标悬停在改进版本区域
2. 点击右上角的 **"应用"** 按钮
3. 改进版本会替换原回答
4. 按钮变为 **"已应用"** 状态

### 应用状态

| 状态 | 按钮显示 | 说明 |
|------|----------|------|
| **未应用** | "应用" | 可以点击应用改进 |
| **应用中** | 加载动画 | 正在保存改进 |
| **已应用** | "已应用" ✓ | 改进已被采纳 |

### 重新评估

如果需要重新评估：

1. 展开评估详情
2. 点击底部的 **"重新评估"** 按钮
3. 纠错模型会重新分析回答

---

## 🎯 使用场景

### 场景 1: 事实核查

当回答涉及事实性信息时：

- 纠错模型会验证事实的准确性
- 识别可能的错误或过时信息
- 提供更准确的信息版本

### 场景 2: 逻辑验证

当回答涉及推理或分析时：

- 检查推理过程是否合理
- 识别逻辑漏洞或矛盾
- 提供更严谨的论证

### 场景 3: 完整性检查

当回答需要全面覆盖时：

- 检查是否遗漏重要方面
- 识别需要补充的内容
- 提供更完整的回答

### 场景 4: 重要决策

当回答用于重要决策时：

- 提供第二意见
- 增加回答的可信度
- 减少错误决策的风险

---

## ✨ 最佳实践

### 1. 选择合适的纠错模型

**推荐策略**:
- 选择与主模型不同的模型，获得不同视角
- 对于专业领域，选择该领域表现好的模型
- 考虑模型的速度和成本

### 2. 何时启用纠错模式

**推荐启用**:
- 涉及事实性信息的回答
- 重要的决策支持
- 需要高准确性的场景
- 专业领域的问答

**可以不启用**:
- 简单的创意写作
- 非关键性的对话
- 对速度要求高的场景

### 3. 如何使用评估结果

- **查看评分**: 快速了解回答质量
- **阅读问题**: 了解具体的改进点
- **对比版本**: 比较原回答和改进版本
- **选择性应用**: 根据实际需要决定是否应用

### 4. 结合其他功能

- **与澄清模式配合**: 先澄清需求，再纠错验证
- **与知识库配合**: 基于知识库的回答更容易验证
- **迭代优化**: 根据纠错反馈优化后续提问

---

## ⚠️ 常见问题

### Q1: 纠错模式会增加响应时间吗？

**答**: 是的，纠错需要额外的模型调用，会增加一定的等待时间。但对于需要高质量回答的场景，这个等待是值得的。

### Q2: 纠错模型的评估一定准确吗？

**答**: 纠错模型的评估是参考意见，不一定 100% 准确。建议结合自己的判断来决定是否采纳。

### Q3: 可以使用同一个模型进行纠错吗？

**答**: 技术上可以，但建议使用不同的模型以获得不同的视角和更有效的验证。

### Q4: 应用纠正后可以撤销吗？

**答**: 应用后原回答会被替换，无法直接撤销。建议在应用前仔细对比两个版本。

### Q5: 纠错模式支持哪些智能体？

**答**: 纠错模式目前仅支持 Chat Shell 类型的智能体。

### Q6: 纠错设置会保存吗？

**答**: 是的，纠错模式的设置（包括选择的模型）会保存到本地存储，下次访问同一任务时会自动恢复。

### Q7: 为什么有时候没有改进版本？

**答**: 如果纠错模型认为原回答已经足够好，可能不会生成改进版本，只会显示评分和"无需纠正"的提示。

---

## 🔗 相关资源

- [创建对话](./managing-tasks.md) - 了解如何创建对话
- [澄清模式](./clarification-mode-guide.md) - 了解澄清模式功能
- [配置模型](../settings/configuring-models.md) - 添加和配置模型

---

<p align="center">使用纠错模式，确保 AI 回答的质量！ ✅</p>
