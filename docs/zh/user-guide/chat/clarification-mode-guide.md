---
sidebar_position: 6
---

# 澄清模式

澄清模式是 Wegent 的一项智能功能，让 AI 智能体在执行任务前先向用户提问，确认需求细节，从而提供更准确的回答。

---

## 📋 目录

- [什么是澄清模式](#-什么是澄清模式)
- [启用澄清模式](#-启用澄清模式)
- [澄清问题类型](#-澄清问题类型)
- [回答澄清问题](#-回答澄清问题)
- [使用场景](#-使用场景)
- [最佳实践](#-最佳实践)
- [常见问题](#-常见问题)

---

## 💬 什么是澄清模式

澄清模式是一种交互式需求确认机制。当启用后，AI 智能体会在执行任务前分析用户的需求，识别可能存在歧义或需要更多信息的地方，然后通过结构化的问题向用户确认。

**工作流程**:
```
用户发送消息 → AI 分析需求 → 生成澄清问题 → 用户回答 → AI 执行任务
```

### 核心优势

| 优势 | 说明 |
|------|------|
| **减少误解** | 在执行前确认需求，避免理解偏差 |
| **提高效率** | 一次性收集所有必要信息，减少来回沟通 |
| **更好的结果** | 基于明确的需求提供更准确的回答 |
| **用户控制** | 用户可以明确指定偏好和约束 |

---

## 🚀 启用澄清模式

### 方法 1: 点击澄清按钮

1. 在对话输入区域找到 **澄清图标** (💬 问号气泡)
2. 点击图标启用澄清模式
3. 图标高亮显示表示已启用
4. 再次点击可关闭

### 方法 2: 在发送消息时启用

澄清模式会在发送消息时生效：

1. 启用澄清模式
2. 输入您的需求
3. 发送消息
4. AI 会先返回澄清问题而不是直接执行

### 状态指示

| 状态 | 图标样式 | 说明 |
|------|----------|------|
| **关闭** | 默认边框 | 澄清模式未启用 |
| **启用** | 主题色高亮 | 澄清模式已启用 |
| **禁用** | 灰色 | 正在加载或流式输出中 |

---

## 📝 澄清问题类型

AI 智能体会根据需求生成不同类型的澄清问题：

### 单选题 (Single Choice)

用于需要从多个选项中选择一个的情况：

- 显示为单选按钮列表
- 只能选择一个选项
- 推荐选项会有特殊标记
- 点击选项即可选择

### 多选题 (Multiple Choice)

用于可以选择多个选项的情况：

- 显示为复选框列表
- 可以选择多个选项
- 推荐选项会预先勾选
- 可以不选择任何选项

### 文本输入 (Text Input)

用于需要用户自由输入的情况：

- 显示为文本输入框
- 可以输入任意文本
- 适合描述性的回答
- 可以留空

---

## ✅ 回答澄清问题

### 澄清表单界面

当 AI 返回澄清问题时，会显示一个结构化的表单：

1. **问题列表**: 每个问题显示在独立的卡片中
2. **选项/输入框**: 根据问题类型显示相应的控件
3. **推荐标记**: 推荐的选项会有特殊标识
4. **补充说明框**: 底部有一个额外的文本框用于补充说明
5. **提交按钮**: 点击提交所有回答

### 回答步骤

1. **阅读问题**: 仔细阅读每个问题的描述
2. **选择/输入答案**: 
   - 单选题：点击选择一个选项
   - 多选题：勾选需要的选项
   - 文本题：在输入框中输入回答
3. **添加补充说明**（可选）: 在底部输入框添加额外信息
4. **提交回答**: 点击"提交回答"按钮

### 查看原始内容

如果需要查看 AI 返回的原始 Markdown 内容：

1. 点击表单右上角的 **"显示原始"** 按钮
2. 查看原始格式的问题内容
3. 点击 **"显示表单"** 返回表单视图

### 必填验证

- 单选题必须选择一个选项
- 多选题可以不选择（空选择是有效的）
- 文本输入可以留空
- 未回答必填问题时会显示红色提示

---

## 🎯 使用场景

### 场景 1: 需求不明确

当用户的需求描述比较模糊时：

**用户输入**: "帮我写一份报告"

**澄清问题**:
- 报告的主题是什么？
- 目标读者是谁？
- 报告的长度要求？
- 需要包含哪些章节？

### 场景 2: 多种实现方式

当任务有多种可能的实现方式时：

**用户输入**: "帮我分析这些数据"

**澄清问题**:
- 您希望进行什么类型的分析？（描述性/预测性/诊断性）
- 输出格式偏好？（表格/图表/文字说明）
- 是否需要统计检验？

### 场景 3: 技术选型

当涉及技术选择时：

**用户输入**: "帮我搭建一个网站"

**澄清问题**:
- 网站的主要用途？
- 是否需要用户登录功能？
- 预期的访问量级别？
- 有无特定的技术栈偏好？

### 场景 4: 约束条件

当需要了解限制条件时：

**用户输入**: "帮我制定一个计划"

**澄清问题**:
- 计划的时间范围？
- 可用的资源/预算？
- 有哪些必须满足的约束？
- 优先级排序？

---

## ✨ 最佳实践

### 1. 何时启用澄清模式

**推荐启用**:
- 复杂或多步骤的任务
- 需求描述比较简短
- 涉及多种可能的实现方式
- 需要明确约束条件

**可以不启用**:
- 简单明确的问题
- 已经提供了详细的需求描述
- 快速问答场景

### 2. 如何回答澄清问题

- **仔细阅读**: 理解每个问题的含义
- **选择推荐**: 如果不确定，可以选择推荐选项
- **补充说明**: 利用补充说明框提供额外上下文
- **保持一致**: 回答之间保持逻辑一致性

### 3. 提高澄清效果

- **初始描述**: 即使启用澄清模式，也尽量提供清晰的初始描述
- **关键信息**: 在初始消息中包含关键约束和偏好
- **迭代优化**: 根据 AI 的问题调整后续的需求描述方式

---

## ⚠️ 常见问题

### Q1: 澄清模式会增加响应时间吗？

**答**: 是的，澄清模式会增加一轮交互。但这通常能减少后续的修改和沟通，总体上可能更高效。

### Q2: 可以跳过澄清问题直接执行吗？

**答**: 澄清问题需要回答后才能继续。如果不想回答，可以关闭澄清模式重新发送消息。

### Q3: 澄清问题的数量有限制吗？

**答**: AI 会根据需求复杂度生成适量的问题，通常 3-5 个问题。

### Q4: 回答后可以修改吗？

**答**: 提交后无法修改。如果需要更改，可以在后续对话中说明。

### Q5: 澄清模式支持哪些智能体？

**答**: 澄清模式目前仅支持 Chat Shell 类型的智能体。

### Q6: 为什么有些问题是必填的？

**答**: 单选题需要明确的选择才能继续，这是为了确保 AI 有足够的信息执行任务。

---

## 🔗 相关资源

- [创建对话](./managing-tasks.md) - 了解如何创建对话
- [纠错模式](./correction-mode-guide.md) - 了解纠错模式功能
- [智能体设置](../settings/agent-settings.md) - 配置智能体

---

<p align="center">使用澄清模式，让 AI 更好地理解您的需求！ 💬</p>
